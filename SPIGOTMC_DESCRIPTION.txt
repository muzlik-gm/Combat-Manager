[CENTER][SIZE=7][B][COLOR=#FF6B6B]True Combat Manager[/COLOR][/B][/SIZE]
[SIZE=4]The Ultimate PvP Combat Management Plugin[/S
[SIZE=5][B]Professional Combat Management for Minecraft Servers[/B][/SIZE]
[SIZE=4]Advanced tracking, smart restrictions, and stunning visuals for competitive PvP[/SIZE]

[SIZE=4][B]‚úÖ Paper & Spigot 1.18-1.21 | Java 17+[/B][/SIZE][/CENTER]

[HR][/HR]

[SIZE=6][B]What is True Combat Manager?[/B][/SIZE]

True Combat Manager is a comprehensive, high-performance PvP combat plugin featuring real-time combat tracking, newbie protection, smart restrictions, visual feedback, statistics tracking, and combat replay system. It tracks every aspect of player fights with detailed statistics, enforces intelligent restrictions to prevent unfair advantages, protects against combat logging, and presents everything through a beautiful, customizable interface.

Built for performance with async processing, intelligent lag compensation, and thread-safe architecture. Optimized for zero lag with intelligent logging system. Perfect for practice servers, factions, KitPvP, or any PvP-focused gameplay.

[B]Why Choose This Plugin?[/B]
‚Ä¢ [B]Zero Lag:[/B] Optimized for high-performance servers with intelligent logging
‚Ä¢ [B]Newbie Protection:[/B] Automatically protects players without armor (XP threshold)
‚Ä¢ [B]Combat Logging Protection:[/B] Instant death + full inventory drop on logout
‚Ä¢ [B]Smart Restrictions:[/B] Block tridents, pearls, gapples, elytra, teleports, respawn anchors
‚Ä¢ [B]Safezone Protection:[/B] WorldGuard integration with visual glass barriers
‚Ä¢ [B]Comprehensive Statistics:[/B] Wins, losses, K/D, damage, accuracy, combat time
‚Ä¢ [B]Combat Replay System:[/B] Timeline recording and playback for admins
‚Ä¢ [B]Visual Feedback:[/B] 6 themes, BossBar, ActionBar, 5 sound profiles
‚Ä¢ [B]PlaceholderAPI:[/B] 15+ placeholders for scoreboards and tab lists
‚Ä¢ [B]Cross-Server Support:[/B] BungeeCord/Velocity compatibility
‚Ä¢ [B]Highly Configurable:[/B] 100+ configuration options
‚Ä¢ [B]Lag Compensation:[/B] Automatically adjusts timers during server lag

[HR][/HR]

[SIZE=6][B]‚ú® Core Features[/B][/SIZE]

[SIZE=5][B]‚öîÔ∏è Combat Management[/B][/SIZE]
‚Ä¢ Real-time combat detection and tracking
‚Ä¢ Configurable combat duration (default: 30s)
‚Ä¢ Automatic timer reset on damage
‚Ä¢ Lag compensation system (TPS monitoring)
‚Ä¢ Combat logging protection (instant death on logout + full inventory drop)
‚Ä¢ Automatic combat end on death
‚Ä¢ Concurrent session management (unlimited fights)
‚Ä¢ Thread-safe architecture
‚Ä¢ Minimum damage threshold (0.5 hearts)

[SIZE=5][B]üõ°Ô∏è Newbie Protection System[/B][/SIZE]
‚Ä¢ Protects players without armor from PvP
‚Ä¢ XP level threshold (configurable, default: 3)
‚Ä¢ Prevents damage dealing by newbies
‚Ä¢ Prevents damage receiving by newbies
‚Ä¢ Requires at least 1 armor piece (configurable)
‚Ä¢ Bypass permission support
‚Ä¢ Custom messages for attackers and defenders
‚Ä¢ Detailed logging for debugging

[SIZE=5][B]üö´ Smart Restrictions (All Configurable)[/B][/SIZE]
‚Ä¢ [B]Tridents:[/B] Block throwing & riptide enchantment
‚Ä¢ [B]Ender Pearls:[/B] Block usage & safezone teleportation (10s cooldown, 20s in combat)
‚Ä¢ [B]Respawn Anchors:[/B] Block usage during combat
‚Ä¢ [B]Elytra:[/B] Block gliding & firework boosts
‚Ä¢ [B]End Crystals:[/B] Block placement/breaking
‚Ä¢ [B]Golden Apples:[/B] Configurable cooldowns (3s base, 4.5s combat)
‚Ä¢ [B]Enchanted Golden Apples:[/B] Separate cooldowns (4s base, 8s combat)
‚Ä¢ [B]Commands:[/B] Block teleport commands (/tp, /home, /spawn, /warp, /tpa, /back)
‚Ä¢ [B]Safezones:[/B] Prevent entry with visual glass barriers
‚Ä¢ [B]Creative Mode:[/B] Auto-switch to survival during combat
‚Ä¢ [B]Block Breaking/Placing:[/B] Optional restrictions

[SIZE=5][B]üé® Visual System[/B][/SIZE]
‚Ä¢ [B]6 Built-in Themes:[/B]
  - Default - Classic red/yellow theme
  - Minimal - Clean gray theme
  - Intense - Bold red/orange theme
  - Elegant - Sophisticated purple theme
  - Neon - Bright cyan/pink theme
  - Retro - Vintage green/yellow theme
‚Ä¢ [B]BossBar Timer:[/B] Dynamic countdown with smooth animations
‚Ä¢ [B]ActionBar Updates:[/B] Real-time opponent and timer information
‚Ä¢ [B]Color-coded Urgency:[/B] Green ‚Üí yellow ‚Üí red
‚Ä¢ [B]Live Theme Switching:[/B] Change visual style mid-combat with /combat toggle-style
‚Ä¢ [B]HEX Color Support:[/B] Full RGB color customization
‚Ä¢ [B]5 Sound Profiles:[/B] default, subtle, intense, calm, electronic
‚Ä¢ [B]Event Sounds:[/B] Combat start/end, timer warning, timer reset, interference

[SIZE=5][B]üìä Statistics & Tracking[/B][/SIZE]
‚Ä¢ Wins/Losses tracking
‚Ä¢ K/D ratio calculation
‚Ä¢ Win rate percentage
‚Ä¢ Damage dealt/received (precise to 0.1 hearts)
‚Ä¢ Hits landed vs total hits
‚Ä¢ Accuracy percentage
‚Ä¢ Combat duration tracking
‚Ä¢ Knockback exchanges
‚Ä¢ Total combat time
‚Ä¢ Last combat timestamp
‚Ä¢ PlaceholderAPI integration (15+ placeholders)

[SIZE=5][B]üé¨ Combat Replay System[/B][/SIZE]
‚Ä¢ Timeline recording of all combat events
‚Ä¢ Hybrid storage (memory + compressed files)
‚Ä¢ Replay playback with admin commands
‚Ä¢ Event filtering and search
‚Ä¢ Configurable retention (default: 30 days)
‚Ä¢ Memory-efficient with auto cleanup
‚Ä¢ Player names in replay filenames

[SIZE=5][B]üõ°Ô∏è Safezone Protection[/B][/SIZE]
‚Ä¢ WorldGuard integration
‚Ä¢ Prevent entry during combat
‚Ä¢ Visual glass barriers at boundaries
‚Ä¢ Barriers persist until player moves away (>10 blocks)
‚Ä¢ Barriers only render on AIR blocks (no griefing)
‚Ä¢ Client-side rendering (no world modification)
‚Ä¢ Configurable barrier material (GLASS, RED_STAINED_GLASS, etc.)
‚Ä¢ Prevent attacking from/into safezones
‚Ä¢ Sound and visual feedback

[SIZE=5][B]‚ö° Performance Optimized[/B][/SIZE]
‚Ä¢ [B]Zero Lag:[/B] Optimized for high-performance servers
‚Ä¢ [B]Intelligent Logging:[/B] Disable for best performance (zero overhead)
‚Ä¢ [B]Async Operations:[/B] Combat logging, stats calculation off main thread
‚Ä¢ [B]Efficient Caching:[/B] Player data, restrictions, combat state
‚Ä¢ [B]Minimal Memory:[/B] Configurable thread pool (default: 4 threads)
‚Ä¢ [B]Auto Cleanup:[/B] Automatic cache cleanup
‚Ä¢ [B]No String Creation:[/B] When logging disabled
‚Ä¢ [B]Lag Compensation:[/B] Auto-adjusts timers when TPS drops below 18.0

[SIZE=5][B]üîí Anti-Abuse Features[/B][/SIZE]
‚Ä¢ Combat logging protection (instant death)
‚Ä¢ Anti-interference system (third-party damage detection)
‚Ä¢ Thread-safe operations
‚Ä¢ Input validation on all commands
‚Ä¢ Permission checks on sensitive operations
‚Ä¢ Server switch prevention during combat

[SIZE=5][B]üåê Cross-Server Support (Experimental)[/B][/SIZE]
‚Ä¢ BungeeCord/Velocity compatibility
‚Ä¢ Combat state synchronization
‚Ä¢ Server switch prevention
‚Ä¢ Network-wide broadcasts
‚Ä¢ Configurable sync intervals

[HR][/HR]

[SIZE=6][B]üìã Commands[/B][/SIZE]

[B]Player Commands:[/B]
[FONT=courier new]/combat status[/FONT] - Check your current combat status and opponent
[FONT=courier new]/combat summary[/FONT] - View your lifetime combat statistics
[FONT=courier new]/combat toggle-style[/FONT] - Cycle through visual themes

[B]Admin Commands:[/B]
[FONT=courier new]/combat inspect <player>[/FONT] - Real-time combat data inspection
[FONT=courier new]/combat summary <player>[/FONT] - View any player's statistics
[FONT=courier new]/combat reload[/FONT] - Reload configuration
[FONT=courier new]/combat debug[/FONT] - Toggle debug mode with verbosity levels
[FONT=courier new]/combat logging <enabled|disabled>[/FONT] - Control console logging in real-time
[FONT=courier new]/replay view <session-uuid>[/FONT] - View combat replay timeline

[B]Permissions:[/B]
[B]Player Permissions (default: true):[/B]
[FONT=courier new]pvpcombat.command.status[/FONT], [FONT=courier new]pvpcombat.command.summary[/FONT], [FONT=courier new]pvpcombat.command.toggle-style[/FONT]

[B]Admin Permissions (default: op):[/B]
[FONT=courier new]pvpcombat.admin[/FONT] - All admin commands
[FONT=courier new]pvpcombat.admin.inspect[/FONT] - Inspect players
[FONT=courier new]pvpcombat.admin.debug[/FONT] - Debug mode

[B]Bypass Permissions (default: op):[/B]
[FONT=courier new]pvpcombat.bypass.combatlog[/FONT] - Bypass combat logging
[FONT=courier new]pvpcombat.bypass.restrictions[/FONT] - Bypass all restrictions
[FONT=courier new]pvpcombat.bypass.newbie[/FONT] - Bypass newbie protection
[FONT=courier new]pvpcombat.bypass.server-switch[/FONT] - Bypass server switch prevention

[HR][/HR]

[SIZE=6][B]‚öôÔ∏è Configuration Highlights[/B][/SIZE]

Highly configurable with 100+ options:

[CODE=yaml]
# General Settings
general:
  enabled: true
  debug-mode: false

# Combat Settings
combat:
  duration: 30              # Combat timer (seconds)
  allow-flight: false       # Allow flight during combat
  cancel-on-death: true     # End combat on death

# Newbie Protection
newbie-protection:
  enabled: true
  prevent-damage-dealing: true
  prevent-damage-receiving: true
  xp-level-threshold: 3
  require-any-armor: true   # true = need 1 piece, false = need full set

# Restrictions
restrictions:
  trident:
    enabled: true
    block-throwing: true
    block-riptide: true
  
  enderpearl:
    enabled: true
    block-usage: true
    cooldown: 10
    combat-cooldown-multiplier: 2.0
  
  respawn-anchor:
    enabled: true
  
  elytra:
    enabled: true
    block-glide: true
  
  crystal:
    enabled: true
    block-placement: true
    block-breaking: false
  
  golden-apple:
    cooldown: 3
    combat-cooldown-multiplier: 1.5
  
  enchanted-golden-apple:
    cooldown: 4
    combat-cooldown-multiplier: 2.0
  
  teleport:
    enabled: true
    blocked-commands:
      - "tp"
      - "teleport"
      - "home"
      - "spawn"
      - "warp"
  
  safezone:
    enabled: true
    block-entry: true
    protected-regions:
      - "spawn"
      - "safezone"
      - "safe"
    barrier:
      enabled: true
      material: "GLASS"      # GLASS, RED_STAINED_GLASS, etc.
      height: 4
      width: 5

# Visual System
visual:
  themes:
    default-theme: "default"
    available: ["default", "minimal", "intense", "elegant", "neon", "retro"]
  
  bossbar:
    enabled: true
    update-interval: 1
  
  actionbar:
    enabled: true
    update-interval: 20
  
  sounds:
    profile: "default"      # default, subtle, intense, calm, electronic

# Performance
performance:
  lag:
    enabled: true
    tps-threshold: 18.0
  
  async:
    enabled: true
    thread-pool-size: 4
  
  cache:
    player-data-ttl: 1800   # 30 minutes

# Logging (disable for best performance)
logging:
  console-enabled: false
  storage:
    type: "BOTH"            # FILE, MEMORY, or BOTH

# Statistics
statistics:
  enabled: true
  summary:
    delivery: "CHAT"        # CHAT, GUI, STORAGE, or NONE

# Replay System
replay:
  enabled: false            # Disabled by default
  retention-days: 30
  max-events: 1000
[/CODE]

[HR][/HR]

[SIZE=6][B]üì¶ Installation[/B][/SIZE]

1. Download TrueCombatManager-1.0.1.jar
2. Place in your server's [FONT=courier new]plugins[/FONT] folder
3. Install ProtocolLib (recommended for barriers)
4. Install WorldGuard (recommended for safezones)
5. Restart your server
6. Edit [FONT=courier new]plugins/TrueCombatManager/config.yml[/FONT] to customize
7. Use [FONT=courier new]/combat reload[/FONT] to apply changes

[B]Requirements:[/B]
[B]Required:[/B]
‚Ä¢ Minecraft 1.20.4+ (Paper/Spigot/Purpur)
‚Ä¢ Java 21+ (Java 21.0.8 tested)

[B]Recommended:[/B]
‚Ä¢ ProtocolLib 5.0+ (for client-side barriers)
‚Ä¢ WorldGuard 7.0+ (for safezone protection)
‚Ä¢ PlaceholderAPI 2.11+ (for placeholders)

[B]Optional Integrations:[/B]
‚Ä¢ Citizens (NPC combat support)
‚Ä¢ CombatLogX (integration support)
‚Ä¢ MythicMobs (mob combat support)
‚Ä¢ BungeeCord/Velocity (cross-server sync)

Works out of the box with default settings!

[HR][/HR]

[SIZE=6][B]üîå PlaceholderAPI Support[/B][/SIZE]

Full PlaceholderAPI integration for scoreboard, tab list, and chat plugins:

[B]Combat Status:[/B]
[FONT=courier new]%pvpcombat_in_combat%[/FONT] - true/false
[FONT=courier new]%pvpcombat_time_left%[/FONT] - Remaining seconds
[FONT=courier new]%pvpcombat_opponent%[/FONT] - Opponent name

[B]Lifetime Statistics:[/B]
[FONT=courier new]%pvpcombat_wins%[/FONT] - Total wins
[FONT=courier new]%pvpcombat_losses%[/FONT] - Total losses
[FONT=courier new]%pvpcombat_total_combats%[/FONT] - Total combats
[FONT=courier new]%pvpcombat_kd_ratio%[/FONT] - K/D ratio (formatted)
[FONT=courier new]%pvpcombat_win_rate%[/FONT] - Win rate percentage
[FONT=courier new]%pvpcombat_total_damage_dealt%[/FONT] - Total damage dealt
[FONT=courier new]%pvpcombat_total_damage_received%[/FONT] - Total damage received
[FONT=courier new]%pvpcombat_damage_ratio%[/FONT] - Damage ratio (dealt/received)
[FONT=courier new]%pvpcombat_total_combat_time%[/FONT] - Total time in combat

[B]Session Statistics:[/B]
[FONT=courier new]%pvpcombat_session_damage_dealt%[/FONT] - Damage in current fight
[FONT=courier new]%pvpcombat_session_damage_received%[/FONT] - Damage received
[FONT=courier new]%pvpcombat_session_hits_landed%[/FONT] - Hits landed
[FONT=courier new]%pvpcombat_knockback_exchanges%[/FONT] - Knockback exchanges

[HR][/HR]

[SIZE=6][B]üìä Combat Statistics Example[/B][/SIZE]

Players can view their statistics with [FONT=courier new]/combat summary[/FONT]:

[CODE]=== Combat Summary for PlayerName ===
Total Combats: 47
Wins: 32 | Losses: 15
Win Rate: 68.1%
K/D Ratio: 2.13
Damage Dealt: 587.5 ‚ù§
Damage Received: 275.0 ‚ù§
Damage Ratio: 2.14
Total Combat Time: 23m 45s
Last Combat: 2025-11-30 15:30:00[/CODE]

[HR][/HR]

[SIZE=6][B]üêõ Troubleshooting[/B][/SIZE]

[B]Server Lag?[/B]
‚Üí Disable console logging: [FONT=courier new]/combat logging disabled[/FONT]
‚Üí Check config: [FONT=courier new]logging.console-enabled: false[/FONT]
‚Üí This eliminates all string creation overhead

[B]Newbie Protection Not Working?[/B]
‚Üí Check player has NO armor equipped (all 4 slots empty)
‚Üí Verify player XP level ‚â§ threshold (default: 3)
‚Üí Check player doesn't have [FONT=courier new]pvpcombat.bypass.newbie[/FONT] permission
‚Üí Enable logging to see detailed checks: [FONT=courier new]/combat logging enabled[/FONT]

[B]Barriers Not Showing?[/B]
‚Üí Install ProtocolLib 5.0+
‚Üí Check config: [FONT=courier new]restrictions.safezone.barrier.enabled: true[/FONT]
‚Üí Verify WorldGuard regions are configured
‚Üí Check console for ProtocolLib detection message

[B]Tridents Still Working in Combat?[/B]
‚Üí Check config: [FONT=courier new]restrictions.trident.enabled: true[/FONT]
‚Üí Verify player is actually in combat
‚Üí Check console logs when enabled

[B]Commands Not Blocked?[/B]
‚Üí Check config: [FONT=courier new]restrictions.teleport.enabled: true[/FONT]
‚Üí Verify blocked-commands list is not empty
‚Üí Check player doesn't have [FONT=courier new]pvpcombat.bypass.restrictions[/FONT] permission

[B]Placeholders Not Working?[/B]
‚Üí Install PlaceholderAPI
‚Üí Run [FONT=courier new]/papi reload[/FONT]
‚Üí Check [FONT=courier new]/papi parse me %pvpcombat_in_combat%[/FONT]

[HR][/HR]

[SIZE=6][B]üéØ Tested Versions[/B][/SIZE]

‚úÖ Minecraft 1.21.10 - Fully Tested
‚úÖ Minecraft 1.21.x - Fully Tested
‚úÖ Minecraft 1.20.x - Compatible
‚úÖ Minecraft 1.19.x - Compatible
‚ö†Ô∏è Minecraft 1.18.x - Basic Features

‚úÖ Paper 1.20.4+ - Recommended
‚úÖ Spigot 1.20.4+ - Supported
‚úÖ Purpur 1.20.4+ - Supported

‚úÖ Java 21.0.8 - Tested
‚úÖ Java 21+ - Recommended
‚úÖ Java 17+ - Minimum

[HR][/HR]

[SIZE=6][B]üìû Support[/B][/SIZE]

Need help? Contact me directly through SpigotMC conversation!

[B]Reporting Bugs:[/B]
1. Check if issue already exists
2. Provide server version and plugin version
3. Include relevant config sections
4. Attach console errors (if any)
5. Describe steps to reproduce

[B]Feature Requests:[/B]
All feature requests are welcome and considered!

[HR][/HR]

[SIZE=6][B]‚≠ê Leave a Review[/B][/SIZE]

If you enjoy this plugin, please leave a 5-star review!
Your feedback helps improve the plugin and helps others discover it.

[HR][/HR]

[SIZE=6][B]üìú License[/B][/SIZE]

All Rights Reserved ¬© 2025 muzlik

This is proprietary software. Unauthorized copying, distribution,
modification, or use is strictly prohibited.

[HR][/HR]

[SIZE=6][B]üÜï Changelog - v1.0.1[/B][/SIZE]

[B]INITIAL RELEASE:[/B]
‚Ä¢ Complete PvP combat management system
‚Ä¢ Real-time combat tracking with 30s timer
‚Ä¢ Newbie protection system (XP level + armor check)
‚Ä¢ Smart restrictions (tridents, ender pearls, respawn anchors, elytra, crystals, gapples)
‚Ä¢ Visual system with 6 themes and BossBar/ActionBar
‚Ä¢ Comprehensive statistics tracking (wins, losses, K/D, damage, accuracy)
‚Ä¢ Combat replay system with timeline recording
‚Ä¢ Safezone protection with WorldGuard integration
‚Ä¢ Visual glass barriers (ProtocolLib) - client-side only
‚Ä¢ PlaceholderAPI support (15+ placeholders)
‚Ä¢ Performance optimized with async operations
‚Ä¢ Intelligent logging system (zero lag when disabled)
‚Ä¢ Combat logging protection (instant death + inventory drop)
‚Ä¢ Cross-server support (BungeeCord/Velocity)
‚Ä¢ Admin tools (inspect, debug, replay viewer)
‚Ä¢ 100+ configuration options

[HR][/HR]

[SIZE=6][B]üìù License & Support[/B][/SIZE]

[B]License:[/B] All Rights Reserved ¬© 2025 muzlik
This is proprietary software. Modification or redistribution is prohibited.

[B]Support:[/B]
‚Ä¢ Contact via SpigotMC conversation
‚Ä¢ Report bugs through resource discussion
‚Ä¢ Feature requests welcome

[B]Tested Versions:[/B]
‚úÖ 1.21.x series (fully tested)
‚úÖ 1.20.x series (compatible)
‚úÖ 1.19.x series (compatible)
‚ö†Ô∏è 1.18.x series (basic features)

[HR][/HR]

[CENTER][SIZE=5][B]True Combat Manager v1.0.1[/B][/SIZE]
Made with ‚ù§Ô∏è for the Minecraft community
¬© 2025 muzlik - All Rights Reserved[/CENTER]
